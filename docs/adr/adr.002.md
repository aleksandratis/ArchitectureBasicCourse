# ADR.002 REST в качестве шаблона интеграции

* Статус: Предложено
* Владелец: Тыщенко А.А. (aatyshh2@mts.ru)

## Контекст
Для платформы для онлайн-конференций нужно определиться с шаблоном интеграции сервисов.

Критерии выбора решения: опыт работы с протоколом у команды, сроки реализации проекта.

## Варианты решения

### Сравнение способов интеграционного взаимодействия
| Критерий                    | REST                           | GraphQL                               | gRPC                     |
|:----------------------------|:-------------------------------|:--------------------------------------|:-------------------------|
| Простота реализации         | 3: Много библиотек и примеров  | 2: Довольно распространён             | 1: Бинарный протокол     |
| Лёгкость отладки            | 3: JSON-сериализация           | 3: JSON-сериализация                  | 1: Бинарная сериализация |
| Компетенция команды         | 3: Есть многолетний опыт       | 1: Есть небольшой опыт у 2х человек   | 0: Нет опыта ни у кого   |
| Нагрузка на сеть            | 1: Передаётся весь JSON-объект | 2: Передаются только запрошенные поля | 3: Бинарный протокол     |
| Итого:                      | 10                             | 8                                     | 5                        |

## Решение
Учитывая простоту реализации и опыт команды в данном решении мы должны использовать REST в качестве способа интеграционного взаимодействия.

## Последствия
Более интенсивная нагрузка на серверы, на которых запущены сервисы (по сравнению с gRPC).
При планировании развития сервисов нужно стремиться к переводу на gRPC для сервисов, генерирующих большой трафик.
Это подразумевает дополнительное финансирование на обучение команды, либо аутсорсинг.